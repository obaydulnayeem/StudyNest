{% extends "base.html" %}

{% block title %}Contributors{% endblock %}

{% block content %}
<h1>Contributors</h1>

 {% for i in context.all_contributors %}
    <p>{{ i.uploaded_by__username }}: {{ i.question_count }} questions, {{ i.note_count }} notes</p>
 {% endfor %}


<!-- Display contributors who have uploaded both questions and notes -->
<h3>Contributors Who Uploaded Both Questions and Notes</h3>
<ul>
    {% for contributor in context.contributors_both_types %}
        <li>{{ contributor }}</li>
    {% endfor %}
</ul>

<!-- Display total contributions by each user for questions -->
<h3>Total Contributions for Questions</h3>
<table>
    <thead>
        <tr>
            <th>Username</th>
            <th>Total Question Contributions</th>
        </tr>
    </thead>
    <tbody>
        {% for contributor in context.all_question_contributors %}
            <tr>
                <td>{{ contributor.uploaded_by__username }}</td>
                <td>{{ contributor.question_count }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Display total contributions by each user for notes -->
<h3>Total Contributions for Notes</h3>
<table>
    <thead>
        <tr>
            <th>Username</th>
            <th>Total Note Contributions</th>
        </tr>
    </thead>
    <tbody>
        {% for contributor in context.all_note_contributors %}
            <tr>
                <td>{{ contributor.uploaded_by__username }}</td>
                <td>{{ contributor.note_count }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>






<div class="mx-5">
    
    <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Questions</th>
            <th scope="col">Notes</th>
            <th scope="col">Books</th>
            <th scope="col">Lecture Slides</th>
            <th scope="col">Total</th>
          </tr>
        </thead>

        <tbody>
        {% for user_info in context.all_contributors %}
          <tr>
            <th scope="row">0</th>
            <td>{{ user_info.uploaded_by__username }}</td>
            <td>{{ user_info.question_count }}</td>
            <td>{{ user_info.note_count }}</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>


  
</div>


{% endblock %}